{"version":3,"sources":["component/Page/Lyrics/Lyrics.js","component/Page/Page.js","fonts/Dymo.ttf","component/Book/Book.js","component/Footer/Footer.js","App.js","index.js"],"names":["Lyrics","props","useState","lyrics","setLyrics","lyricsApiUrl","process","artist","replace","song","a","axios","url","method","response","status","Error","data","result","resultLyrics","fetchLyrics","then","resData","cleanedOriginalArtist","toLowerCase","cleanFoundArtist","name","levenshtein","similarity","track","text","catch","error","console","log","message","loadLyrics","style","whiteSpace","Page","visible","setVisible","title","page","titlePage","length","slice","toUpperCase","video","videourl","includes","split","className","href","link","target","rel","src","picurl","alt","MenuUnfoldOutlined","onClick","placement","closable","onClose","width","height","id","orientation","plain","tags","Book","state","songbookPages","isLoading","this","loadPages","entries","fetchPages","pages","setState","book","map","margin","fontSize","Component","Footer","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6542a1b8.chunk.js","sourcesContent":["import { React, useState } from \"react\";\nimport axios from 'axios';\nimport levenshtein from 'js-levenshtein';\n\nconst Lyrics = (props) => {\n    const [lyrics, setLyrics] = useState('Loading ...');\n    const lyricsApiUrl = process.env.REACT_APP_LYRICS_API_URL + props.artist.replace(/ /g, \"%20\") + '/' + props.song.replace(/ /g, \"%20\") + '?apikey=' + process.env.REACT_APP_LYRICS_API_KEY;\n\n    const loadLyrics = () => {\n        async function fetchLyrics() {\n            const response = await axios({\n                url: lyricsApiUrl,\n                method: \"GET\",\n            });\n            if ((response.status !== 200) & (response.status !== 201)) {\n                throw new Error(\"Error!\");\n            }\n            const result = await response.data;\n            const resultLyrics = result.result;\n            return resultLyrics;\n        }\n        // fetch Entries\n        fetchLyrics().then((resData) => {\n            const cleanedOriginalArtist = props.artist.toLowerCase().replace(/ /g, \"\");\n            const cleanFoundArtist = resData.artist.name.toLowerCase().replace(/ /g, \"\");\n            const sameArtist = levenshtein(cleanedOriginalArtist, cleanFoundArtist) < 2 ? true : false;\n            if (sameArtist && resData.similarity > 0.95) {\n                setLyrics(resData.track.text);\n            } else {\n                setLyrics('No lyrics found.');\n            }\n        }\n        ).catch(error => {\n            setLyrics('No lyrics found.');\n            console.log(error.message);\n        });\n    };\n\n    if (lyrics == 'Loading ...') {\n        loadLyrics();\n    }\n\n    return (\n        <div style={{ whiteSpace: \"pre-line\" }}>\n            {lyrics}\n        </div>\n    );\n}\n\nexport default Lyrics;","import { React, useState } from \"react\";\nimport { Tooltip, Drawer, Divider } from 'antd';\nimport { MenuUnfoldOutlined, } from '@ant-design/icons';\nimport Lyrics from './Lyrics/Lyrics';\n\nimport '../.././fonts/Dymo.ttf';\nimport './Page.css'\n\nconst Page = (props) => {\n    const [visible, setVisible] = useState(false);\n\n    const showDrawer = () => {\n        setVisible(true);\n    };\n    const onClose = () => {\n        setVisible(false);\n    };\n\n    const title = props.page.title.replace('-', '/').replace(/ /g, '');\n    const howLongIsLong = 24;\n    const isLongTitle = title.length > howLongIsLong;\n    const titlePage = isLongTitle ? `${title.slice(0, howLongIsLong)}...` : title;\n    const artist = props.page.artist;\n    const song = props.page.song.toUpperCase();\n\n    let video = '';\n    if (props.page.videourl) {\n        video = props.page.videourl.includes(\"youtube\") ? `https://www.youtube.com/embed/${props.page.videourl.split('=')[1]}` : props.page.videourl;\n    }\n\n    return (\n        <div className=\"Page__main\">\n            <a href={props.page.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                <img src={props.page.picurl} alt=\"pic_missing\" className=\"Page__artwork\"></img>\n            </a>\n            <div className=\"Page__title\">{titlePage}</div>\n            <Tooltip title=\"Show text\">\n                <div className=\"Page__actionicon\">\n                    <MenuUnfoldOutlined onClick={showDrawer} />\n                </div>\n            </Tooltip>\n            <Drawer\n                title={song}\n                placement=\"right\"\n                closable={true}\n                onClose={onClose}\n                visible={visible}\n                className=\"Page__drawer\"\n                width=\"350\"\n            >\n                {props.page.videourl ?\n                    (<iframe width=\"300px\" height=\"226px\" src={video} title={`iframe_${props.page.id}`}></iframe>)\n                    : (<img src={props.page.picurl} className=\"Page-drawer__artwork\" alt=\"pic_missing\" ></img>)\n                }\n                <Divider orientation=\"left\" plain>\n                    <span className=\"Page-drawer__diviser\">\n                        Lyrics\n                    </span>\n                </Divider>\n                <Lyrics artist={props.page.artist} song={props.page.song} />\n                <Divider orientation=\"left\" plain>\n                    <span className=\"Page-drawer__diviser\">\n                        Tags\n                    </span>\n                </Divider>\n                <p>{props.page.tags}</p>\n            </Drawer>\n        </div>\n    );\n}\n\nexport default Page;","export default __webpack_public_path__ + \"static/media/Dymo.67f93d5b.ttf\";","import React, { Component } from \"react\";\nimport Page from '../Page/Page'\nimport axios from 'axios';\n\nimport './Book.css';\n\nclass Book extends Component {\n\n    state = {\n        songbookPages: [],\n        isLoading: true,\n    }\n\n    componentDidMount() {\n        this.loadPages();\n    }\n\n    loadPages() {\n        async function fetchPages() {\n            const response = await axios({\n                url: process.env.REACT_APP_API_URL,\n                method: \"GET\",\n            });\n            if ((response.status !== 200) & (response.status !== 201)) {\n                throw new Error(\"Error!\");\n            }\n            const entries = await response.data;\n            return entries;\n        }\n        // fetch Entries\n        fetchPages().then((resData) => {\n            const pages = resData;\n            this.setState({ songbookPages: pages });\n            this.setState({ isLoading: false });\n        }\n        ).catch(error => {\n            console.log(error.message);\n        });\n    };\n\n\n    render() {\n        const book = this.state.songbookPages.map(page => {\n            return (\n                <div key={page.id}>\n                    <Page page={page} />\n                </div>\n            );\n        })\n        return (\n            <div style={{ margin: 30 }}>\n                { this.state.isLoading ?\n                    <div>\n                        <img src=\"https://avatars0.githubusercontent.com/u/12551446\" className=\"book-loader\" alt=\"Loading\" />\n                        <br />\n                        <div style={{ fontSize: 18 }}>Loading ... </div>\n                    </div>\n                    :\n                    (<div className=\"Book__main\">\n                        {book}\n                    </div>)\n                }\n\n            </div>\n        );\n    }\n}\n\nexport default Book;\n","import React from 'react'\nimport './Footer.css'\n\nconst Footer = () => {\n\n    return (\n        <div className='Footer__Main'>\n            Songbook by <a href=\"http://www.clementvanstaen.com\" target=\"_blank\" rel=\"noopener noreferrer\">Clément van Staen</a>, 2020\n        </div>\n    )\n}\n\nexport default Footer","import './App.css';\nimport Book from './component/Book/Book'\nimport Footer from './component/Footer/Footer'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Book />\n      </header>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport './fonts/Dymo.ttf';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}