(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),s=n.n(r),c=n(12),i=n.n(c),o=(n(87),n(88),n(26)),l=n.n(o),u=n(31),p=n(61),j=n(62),d=n(79),h=n(76),b=n(40),g=n(134),f=n(133),x=n(131),O=n(132),m=n(32),v=n.n(m),k=function(e){var t=Object(r.useState)("Loading ..."),n=Object(b.a)(t,2),s=n[0],c=n[1],i="https://orion.apiseeds.com/api/music/lyric/"+e.artist.replace(/ /g,"%20")+"/"+e.song.replace(/ /g,"%20")+"?apikey=DoQSFaMhpnnHth7pgqmXYJjkNtV1Fn1VGZAjGwpKvaCGiKdIQk1LS1OeCApW8RN9";return function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:i,method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return n=e.sent,a=n.result.track.text,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){c(e)})).catch((function(e){c("No lyrics found."),console.log(e.message)}))}(),Object(a.jsx)("div",{style:{whiteSpace:"pre-line"},children:s})},w=(n.p,n(107),function(e){var t=Object(r.useState)(!1),n=Object(b.a)(t,2),s=n[0],c=n[1],i=e.page.title.replace("-","/").replace(/ /g,""),o=i.length>24?"".concat(i.slice(0,24),"..."):i,l=(e.page.artist,e.page.song.toUpperCase()),u="";return e.page.videourl&&(u=e.page.videourl.includes("youtube")?"https://www.youtube.com/embed/".concat(e.page.videourl.split("=")[1]):e.page.videourl),Object(a.jsxs)("div",{className:"Page__main",children:[Object(a.jsx)("a",{href:e.page.link,target:"_blank",children:Object(a.jsx)("img",{src:e.page.picurl,className:"Page__artwork"})}),Object(a.jsx)("div",{className:"Page__title",children:o}),Object(a.jsx)(g.a,{title:"Show text",children:Object(a.jsx)("div",{className:"Page__actionicon",children:Object(a.jsx)(O.a,{onClick:function(){c(!0)}})})}),Object(a.jsxs)(f.a,{title:l,placement:"right",closable:!0,onClose:function(){c(!1)},visible:s,className:"Page__drawer",width:"350",children:[e.page.videourl?Object(a.jsx)("iframe",{width:"300px",height:"226px",src:u}):Object(a.jsx)("img",{src:e.page.picurl,className:"Page-drawer__artwork"}),Object(a.jsx)(x.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Lyrics"})}),Object(a.jsx)(k,{artist:e.page.artist,song:e.page.song}),Object(a.jsx)(x.a,{orientation:"left",plain:!0,children:Object(a.jsx)("span",{className:"Page-drawer__diviser",children:"Tags"})}),Object(a.jsx)("p",{children:e.page.tags})]})]})}),_=(n(126),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={songbookPages:[],isLoading:!0},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.loadPages()}},{key:"loadPages",value:function(){var e=this;function t(){return(t=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({url:"https://songbook-cvs.herokuapp.com/songbook",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(t){var n=t;e.setState({songbookPages:n}),e.setState({isLoading:!1})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this.state.songbookPages.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(w,{page:e})},e.id)}));return Object(a.jsx)("div",{style:{margin:30},children:this.state.isLoading?Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"book-loader",alt:"Loading"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{fontSize:18},children:"Loading ... "})]}):Object(a.jsx)("div",{className:"Book__main",children:e})})}}]),n}(r.Component)),y=(n(127),function(){return Object(a.jsxs)("div",{className:"Footer__Main",children:["Songbook by ",Object(a.jsx)("a",{href:"http://www.clementvanstaen.com",target:"_blank",children:"Cl\xe9ment van Staen"}),", 2020"]})});var N=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(_,{})}),Object(a.jsx)(y,{})]})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))},87:function(e,t,n){},88:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.4311dc83.chunk.js.map