(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){},145:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),c=a.n(n),i=a(24),r=a.n(i),o=(a(113),a(114),a(33)),l=a.n(o),u=a(42),j=a(82),b=a(83),g=a(107),d=a(102),A=a(8),p=a(84),h=a(186),f=a(184),O=a(103),m=a(185),x=a(187),v=a(27),k=a.n(v),N=a(189),w=(a(145),function(e){var t=Object(n.useState)(e.tags),a=Object(A.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(-1),o=Object(A.a)(r,2),j=o[0],b=o[1],g=Object(n.useState)(""),d=Object(A.a)(g,2),p=d[0],h=d[1],f=Object(n.useState)(!1),v=Object(A.a)(f,2),w=v[0],C=v[1],P=Object(n.useState)(""),S=Object(A.a)(P,2),y=S[0],T=S[1],Q=function(t){function a(){return(a=Object(u.a)(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k()({url:"https://songbook-cvs.herokuapp.com/songbook/"+e.id,method:"PATCH",data:{tags:a}});case 2:if(!(200!==(s=t.sent).status&201!==s.status)){t.next=5;break}throw new Error("Error!");case 5:return t.next=7,s.data;case 7:return n=t.sent,t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(e){return a.apply(this,arguments)})(t).then((function(e){})).catch((function(e){console.log("error",e.message)}))},M=function(t){c[j]=p.toLowerCase(),i(c),Q(c),b(-1),h(""),T(""),C(!1),e.setTagsMissing(!1)},B=function(e){b(-1),h(""),T(""),C(!1)},I=function(e){h(e.target.value),T(""),C(!1)},V=c?c.map((function(e,t){var a=e.length>30;return j===t?Object(s.jsx)(m.a,{size:"small",className:"tag-input",value:p,onChange:I,onBlur:B,onPressEnter:M},t):Object(s.jsx)(x.a,{className:"edit-tag",closable:!0,onClose:function(){return function(e){var t=c;t.splice(e,1),i(t)}(t)},children:Object(s.jsx)("span",{onDoubleClick:function(a){b(t),h(e),a.preventDefault()},children:a?"".concat(e.slice(0,30),"..."):e})},t)})):[];return Object(s.jsxs)("div",{className:"tags",children:[V,w&&Object(s.jsx)(m.a,{type:"text",size:"small",className:"tag-input",value:y,onChange:function(e){T(e.target.value)},onBlur:function(){T(""),C(!1),b(-1),h("")},onPressEnter:function(t){var a=t.target.value.toLowerCase();if(void 0===c||null===c){var s=[a];Q(s),i(s)}else if(a&&-1===c.indexOf(a)){var n=[].concat(Object(O.a)(c),[a]);Q(n),i(n)}T(""),C(!1),b(-1),h(""),e.setTagsMissing(!1)}}),!w&&Object(s.jsxs)(x.a,{className:"site-tag-plus",onClick:function(){C(!0),b(-1),h("")},children:[Object(s.jsx)(N.a,{})," Add Tag"]})]})}),C=a(66),P=a.n(C),S=function(e){var t=Object(n.useState)("Loading ..."),a=Object(A.a)(t,2),c=a[0],i=a[1],r="https://orion.apiseeds.com/api/music/lyric/"+e.artist.replace(/ /g,"%20")+"/"+e.song.replace(/ /g,"%20")+"?apikey=DoQSFaMhpnnHth7pgqmXYJjkNtV1Fn1VGZAjGwpKvaCGiKdIQk1LS1OeCApW8RN9";return"Loading ..."===c&&function(){function t(){return(t=Object(u.a)(l.a.mark((function e(){var t,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({url:r,method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return a=e.sent,s=a.result,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(t){var a=e.artist.toLowerCase().replace(/ /g,""),s=t.artist.name.toLowerCase().replace(/ /g,"");P()(a,s)<5||t.similarity>.9?i(t.track.text):(console.log("levenshtein:",a,s,P()(a,s)),console.log("similarity:",t.similarity),i("No lyrics found."))})).catch((function(e){i("No lyrics found."),console.log(e.message)}))}(),Object(s.jsx)("div",{style:{whiteSpace:"pre-line"},children:c})},y=a(190),T=(a(173),function(e){var t=Object(n.useState)(e.tabs),a=Object(A.a)(t,2),c=a[0],i=(a[1],Object(n.useState)(e.video)),r=Object(A.a)(i,2),o=r[0],l=(r[1],Object(n.useState)(e.pic)),u=Object(A.a)(l,2),j=u[0];u[1];return Object(s.jsxs)("div",{className:"links",children:[Object(s.jsxs)("div",{children:["\xa0\xa0Tabs:",Object(s.jsx)(x.a,{className:"links__tag",children:Object(s.jsxs)("span",{onDoubleClick:function(e){e.preventDefault()},children:[Object(s.jsx)(y.a,{}),"\xa0",c.length>35?"".concat(c.slice(0,30),"..."):c]})},"tabs")]}),Object(s.jsxs)("div",{children:["Video:",Object(s.jsx)(x.a,{className:"links__tag",children:Object(s.jsxs)("span",{onDoubleClick:function(e){e.preventDefault()},children:[Object(s.jsx)(y.a,{}),"\xa0",o.length>35?"".concat(o.slice(0,30),"..."):o]})},"video")]}),Object(s.jsxs)("div",{children:["\xa0\xa0\xa0\xa0\xa0Pic:",Object(s.jsx)(x.a,{className:"links__tag",children:Object(s.jsxs)("span",{onDoubleClick:function(e){e.preventDefault()},children:[Object(s.jsx)(y.a,{}),"\xa0",j.length>35?"".concat(j.slice(0,30),"..."):j]})},"pic")]})]})}),Q=function(e){var t=e.page.videourl?e.page.videourl.split("=")[1]:"";return Object(s.jsxs)(h.a,{title:e.page.song.toUpperCase(),placement:"right",closable:!0,onClose:e.handlerCloseDrawer,visible:e.drawerVisible,className:"Page__drawer",width:"350",children:[e.page.videourl?Object(s.jsx)(p.a,{videoId:t,opts:{height:"226",width:"300",playerVars:{autoplay:0}}}):Object(s.jsx)("img",{src:e.page.picurl,className:"Page-drawer__artwork",alt:"pic_missing"}),Object(s.jsx)(f.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Tags"})}),Object(s.jsx)(w,{tags:e.page.tags,id:e.page.id,setTagsMissing:e.setTagsMissing}),Object(s.jsx)(f.a,{}),Object(s.jsx)(T,{tabs:e.page.link,video:e.page.videourl,pic:e.page.picurl,id:e.page.id,setTabsMissing:e.setTabsMissing,setVideoMissing:e.setVideoMissing,setPicMissing:e.setPicMissing}),Object(s.jsx)(f.a,{orientation:"left",plain:!0,children:Object(s.jsx)("span",{className:"Page-drawer__diviser",children:"Lyrics"})}),Object(s.jsx)(S,{artist:e.page.artist,song:e.page.song})]})},M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACwklEQVRoge1Yy47aMBQ9thM2hVlTiSXsqFCnoxZWsIAvGPUDRl2OxKj9oOkPVLMHNkFQIbWqKiQ+AXXYkxXCdTfjNBC/SGCmjxzJIvjca9+Tex07AXLkyJHjr4Pv+5993xd7bXIs/hAQE9ntdl8QQj4CeAmAyv4gCJT2nU4HQgiMx2Ml3263QQgx+sfAAXwnhFwNh8OFLkbPJIAQcgvglYqrVCo7/5fLJTjnEEIYeUKIlt8DA3AhhLgF8DqVAADnAPD28hLPy+WoMwgCMMYSxu/7fQDAdDpV8h9ubgAAk8lEyfevr6PrH/f3+HR3F8WQVgAFgGq1miQoTfQ9KxaPxtdqNXmZVBqDTQAAoHR2luhTBRC3y8q7IrUAVQnE7bLyrnASoLpbtr6svCv+XwGqEojbZeVd8e9nQAjhfLfidll5Obfc+HRwEvBUGTipgMdYA/JYYoJRgBDiyTNgE/HHl5ANqTPwWCWUOQOqgQFgu92iUCgAADabTcIuK++K1AJms5nRLivvCicPSulOazabCZtWq3U0XjYX2N7IQAhJ1OtgMAAANBoNcM6xWCyUfPnhJWi1Win5er0Oxhjm87lx/tQCbINITsd7nhfZpfG3BQ84ZkAHSqnxKaF60uz7m0rl5BmQAtJmQAo4WQZsg9gyIAWY/G0ZsCGzABNsJcQYO70A00AywCwlxBhzClQHJwE62Ca3lZDneak2r50xXIxMGTAtcluGZAmdPAO6uyQF6HiZAZP/Ibuucg4XI1OAnPNMAmwL2QYnAbqtXmZAx0sBJp5SquVdYBPwEwD1fR/F2HdLAAjDMBKg4tfrdSTA8zyUSiWlP6VU6R+GobzkpgCNq6fX630FcGGyAX6/eOy3nYli5x7bGWgPX0aj0RsdaTsLXT18nz+H4StxPBgZuEpA/NcBHMA3Qsg7V4ccOXLkyHEwfgGWMvrsH43YhwAAAABJRU5ErkJggg==",B=a(188),I=(a(174),function(e){var t=e.isPiano,a=e.front,n=function(e){console.log("click",e)};return Object(s.jsx)("div",{className:"piano",id:"piano",children:a?t&&Object(s.jsx)(B.a,{placement:"bottomRight",title:"Play this on keys!",children:Object(s.jsx)("img",{className:"piano__img",src:M,alt:M})}):t?Object(s.jsx)(B.a,{placement:"right",title:"Not for piano?",children:Object(s.jsx)("img",{onClick:function(){return n(!1)},className:"piano__img clickable",src:M,alt:M})}):Object(s.jsx)(B.a,{placement:"right",title:"This is for piano!",children:Object(s.jsx)("img",{onClick:function(){return n(!0)},className:"piano__img clickable grey",src:M,alt:M})})})}),V="data:image/png;base64,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",G=(a(176),function(e){var t=e.isBass,a=e.front,n=function(e){console.log("click",e)};return Object(s.jsx)("div",{className:"bass",id:"piano",children:a?t&&Object(s.jsx)(B.a,{placement:"bottomRight",title:"Play this on bass!",children:Object(s.jsx)("img",{className:"bass__img",src:V,alt:V})}):t?Object(s.jsx)(B.a,{placement:"right",title:"Not for bass?",children:Object(s.jsx)("img",{onClick:function(){return n(!1)},className:"bass__img clickable",src:V,alt:V})}):Object(s.jsx)(B.a,{placement:"right",title:"This is for bass!",children:Object(s.jsx)("img",{onClick:function(){return n(!0)},className:"bass__img clickable grey",src:V,alt:V})})})}),D=a(191),E=(a(177),function(e){var t=e.check,a=(e.isVisitor,function(e){console.log("click",e)});return Object(s.jsx)("div",{className:"CheckAdd",id:"checkAdd",children:t?Object(s.jsx)(B.a,{placement:"top",title:"Click to mark this song as unknown.",children:Object(s.jsx)(D.a,{onClick:function(){return a(!1)},className:"CheckAdd__ico clickable"})}):Object(s.jsx)(B.a,{placement:"top",title:"Click to mark this song as known.",children:Object(s.jsx)(D.a,{onClick:function(){return a(!0)},className:"CheckAdd__ico clickable grey"})})})}),q=(a.p,a(178),function(e){var t=Object(n.useState)(!1),a=Object(A.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)("null"===e.page.link),o=Object(A.a)(r,2),l=o[0],u=o[1],j=Object(n.useState)(null===e.page.tags),b=Object(A.a)(j,2),g=b[0],d=b[1],p=Object(n.useState)("null"===e.page.videourl),h=Object(A.a)(p,2),f=h[0],O=h[1],m=Object(n.useState)("null"===e.page.picurl),x=Object(A.a)(m,2),v=x[0],k=x[1],N=Object(n.useState)(!!(l||g||f||v)),w=Object(A.a)(N,2),C=w[0],P=w[1];Object(n.useEffect)((function(){P(!!(l||g||f||v))}),[l,g,f,v]);var S=function(){i(!0)},y=e.page.title.replace("-","/").replace(/ /g,""),T=y.length>23?"".concat(y.slice(0,23),"..."):y;return Object(s.jsxs)("div",{className:"Page__main",children:[C&&Object(s.jsxs)("div",{className:"Page__notab",onClick:S,children:[Object(s.jsx)("div",{className:"Page__notab-text",children:function(){var e=[];if(C)return!0===l&&e.push("TABS MISSING"),!0===g&&e.push("HASHTAGS MISSING"),!0===f&&e.push("VIDEO MISSING"),!0===v&&e.push("PICTURE MISSING"),e.map((function(e,t){return Object(s.jsxs)("div",{children:[e," ",Object(s.jsx)("br",{})]},t)}))}()}),Object(s.jsx)("div",{className:"Page__notab Page__notab-background"})]}),Object(s.jsx)("div",{className:"Page__opendrawer",handlerOpenDrawer:!0,onClick:S,children:Object(s.jsx)("img",{src:e.page.picurl,alt:"pic_missing",className:"Page__artwork"})}),Object(s.jsx)("div",{className:"Page__title",children:T}),Object(s.jsxs)("div",{className:"Page__icons",children:[Object(s.jsx)(I,{front:!0,isPiano:e.page.piano}),Object(s.jsx)(G,{front:!0,isBass:e.page.bass})]}),Object(s.jsx)("div",{className:"Page__actionicon",children:Object(s.jsx)(E,{isVisitor:!1,check:e.page.check,id:e.page.id})}),Object(s.jsx)(Q,{page:e.page,handlerCloseDrawer:function(){i(!1)},drawerVisible:c,setTabsMissing:u,setTagsMissing:d,setVideoMissing:O,setPicMissing:k})]},e.page.id)}),X=(a(179),function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(j.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={songbookPages:[],isLoading:!0},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.loadPages()}},{key:"loadPages",value:function(){var e=this;function t(){return(t=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({url:"https://songbook-cvs.herokuapp.com/songbook",method:"GET"});case 2:if(!(200!==(t=e.sent).status&201!==t.status)){e.next=5;break}throw new Error("Error!");case 5:return e.next=7,t.data;case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return t.apply(this,arguments)})().then((function(t){var a=t;e.setState({songbookPages:a}),e.setState({isLoading:!1})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this.state.songbookPages.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(q,{page:e})},e.id)}));return Object(s.jsx)("div",{style:{margin:30},children:this.state.isLoading?Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/12551446",className:"book-loader",alt:"Loading"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{style:{fontSize:18},children:"Loading ... "})]}):Object(s.jsx)("div",{className:"Book__main",children:e})})}}]),a}(n.Component)),_=(a(180),function(){return Object(s.jsxs)("div",{className:"Footer__Main",children:["Songbook by ",Object(s.jsx)("a",{href:"http://www.clementvanstaen.com",target:"_blank",rel:"noopener noreferrer",children:"Cl\xe9ment van Staen"}),", 2020"]})});var W=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)(X,{})}),Object(s.jsx)(_,{})]})};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(W,{})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.4ac7b6ae.chunk.js.map